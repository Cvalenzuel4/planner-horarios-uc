@tailwind base;
@tailwind components;
@tailwind utilities;

/* Variables CSS globales - Clean UI Theme */
:root {
  /* Colores institucionales */
  --color-primary: #EA580C;
  /* Orange CTA */
  --color-primary-hover: #C2410C;
  --color-institutional: #003366;
  /* Azul UC */

  /* Colores de actividad (para leyenda) */
  --color-catedra: #F59E0B;
  --color-laboratorio: #0EA5E9;
  --color-ayudantia: #10B981;
  --color-taller: #8B5CF6;
  --color-terreno: #EA580C;
  --color-practica: #EF4444;
  --color-otro: #6B7280;
  --color-conflicto: #EF4444;
}

/* Reset básico */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
  background: #F3F4F6;
  min-height: 100vh;
  color: #1f2937;
}

/* Estilos del scrollbar - Light theme */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #E5E7EB;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: #9CA3AF;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #6B7280;
}

/* Animación de conflicto */
@keyframes pulseConflict {

  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }

  50% {
    box-shadow: 0 0 0 6px rgba(239, 68, 68, 0);
  }
}

.animate-conflict {
  animation: pulseConflict 1s ease-in-out infinite;
  border: 2px solid var(--color-conflicto);
}

/* Clean UI panels - Solid white cards */
.glass-panel {
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 16px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

.glass-panel-dark {
  background: white;
  border-bottom: 1px solid #E5E7EB;
  border-radius: 0;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

/* Botón primario - Orange CTA */
.btn-primary {
  @apply px-4 py-2 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 transition-all duration-200 shadow-sm hover:shadow-md active:scale-95;
}

/* Botón secundario - Light theme */
.btn-secondary {
  @apply px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg border border-gray-200 transition-all duration-200 hover:border-gray-300 active:scale-95;
}

/* Botón de peligro */
.btn-danger {
  @apply px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition-all duration-200 active:scale-95;
}

/* Input estilizado - Light theme */
.input-styled {
  @apply w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all duration-200;
}

/* Select estilizado - Light theme */
.select-styled {
  @apply px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all duration-200 cursor-pointer appearance-none;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
}

.select-styled option {
  background: white;
  color: #1f2937;
}

/* Celda del grid - Light theme */
.grid-cell {
  @apply relative min-h-[60px] border border-gray-100 rounded-lg transition-all duration-150 hover:border-gray-200 bg-gray-50/50;
}

.grid-cell-header {
  @apply bg-white font-semibold text-gray-700 text-center py-3 text-sm border border-gray-100 rounded-lg;
}

/* Bloque de horario */
.schedule-block {
  @apply absolute inset-1 rounded-md flex flex-col justify-center items-center text-xs font-medium shadow-sm transition-transform duration-150 hover:scale-[1.02] hover:z-10 cursor-pointer;
}

/* Checkbox estilizado - Light theme */
.checkbox-styled {
  @apply w-5 h-5 rounded border-2 border-gray-300 bg-white checked:bg-orange-500 checked:border-orange-500 focus:ring-2 focus:ring-orange-500/30 focus:ring-offset-0 transition-all duration-150 cursor-pointer;
}

/* Tooltip */
.tooltip {
  @apply invisible opacity-0 absolute z-50 px-3 py-2 text-xs font-medium bg-gray-900 text-white rounded-lg shadow-lg transition-all duration-200;
}

.tooltip-trigger:hover .tooltip {
  @apply visible opacity-100;
}

/* Modal overlay */
.modal-overlay {
  @apply fixed inset-0 bg-black/40 backdrop-blur-sm z-40 flex items-center justify-center p-4;
}

/* Modal content - Light theme */
.modal-content {
  @apply bg-white rounded-2xl shadow-xl border border-gray-200 max-w-2xl w-full max-h-[90vh] overflow-y-auto;
}

/* Badge */
.badge {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
}

/* Transiciones suaves para paneles colapsables */
.collapsible-content {
  @apply transition-all duration-300 ease-in-out;
}

/* Loader - Light theme */
.loader {
  @apply w-8 h-8 border-4 border-gray-200 border-t-orange-500 rounded-full animate-spin;
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */

/* Mejoras para dispositivos táctiles */
@media (hover: none) and (pointer: coarse) {

  /* Botones más grandes para touch */
  .btn-primary,
  .btn-secondary,
  .btn-danger {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Checkboxes más grandes */
  .checkbox-styled {
    @apply w-6 h-6;
  }

  /* Scrollbars más anchos para touch */
  ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }
}

/* Móviles pequeños (< 640px) */
@media (max-width: 639px) {
  .grid-cell {
    @apply min-h-[45px];
  }

  .grid-cell-header {
    @apply py-1.5 text-xs;
  }

  .schedule-block {
    @apply text-[8px];
  }

  .schedule-block span {
    @apply leading-tight;
  }

  /* Modales más pequeños */
  .modal-content {
    @apply max-h-[95vh] mx-2;
  }
}

/* Tablets (640px - 1024px) */
@media (min-width: 640px) and (max-width: 1023px) {
  .grid-cell {
    @apply min-h-[50px];
  }

  .schedule-block {
    @apply text-[9px];
  }
}

/* Mejoras de accesibilidad para focus en móvil */
@media (max-width: 1023px) {

  button:focus-visible,
  input:focus-visible,
  select:focus-visible {
    @apply outline-2 outline-offset-2 outline-orange-500;
  }
}

/* Animaciones reducidas para preferencia del usuario */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .animate-conflict {
    animation: none;
  }
}

/* Safe area para dispositivos con notch */
@supports (padding: max(0px)) {
  .glass-panel-dark {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}